{"version":3,"sources":["all.js","mirror.js"],"names":["load","document","querySelector","loader","setTimeout","style","display","swiper","Swiper","slidesPerView","spaceBetween","loop","loopFillGroupWithBlank","navigation","nextEl","prevEl","chart","c3","generate","bindto","data","columns","colors","已完成","未完成","type","onclick","d","i","console","log","onmouseover","onmouseout","donut","title","chart2","剩餘關卡","chart3","x","axis","tick","format","lessons","description","code2Learn","instruction","signature","imageDiff","totalPixels","images","doc","width","height","canvasCode","current_lesson","destinationCode","sourceCode","code","preview","verification","clearScreen","showSample","editor","CodeMirror","fromTextArea","lineNumbers","lineWrapping","styleActiveLine","matchBrackets","autoCloseBrackets","autoCloseTags","theme","mode","init","getElementById","contentWindow","clientWidth","clientHeight","getSignatures","setValue","open","write","correct","length","close","parseInt","localStorage","getItem","window","addEventListener","e","check","getValue","distanceSquare","alert","innerHTML","delay","on","clearTimeout","updatePreview","replace","reset","next","prev"],"mappings":"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","file":"all.js","sourcesContent":["// console.log('Hello!');\n\n// $(document).ready(() => {\n//   console.log('HexSchool Hello!');\n// });\n\nconst load = document.querySelector('.loader');\nfunction loader (){\n  setTimeout(() => { \n    load.style.display = 'none';}\n    , 3000);\n}\nloader ();\nlet swiper = new Swiper(\".courseSwiper\", {\n  slidesPerView: 'auto',\n  spaceBetween: 20,\n  // slidesPerGroup: 3,\n  loop: true,\n  loopFillGroupWithBlank: true,\n  // pagination: {\n  //   el: \".swiper-pagination\",\n  //   clickable: true,\n  // },\n  navigation: {\n    nextEl: \".swiper-button-next\",\n    prevEl: \".swiper-button-prev\",\n  },\n});\nvar chart = c3.generate({\n  bindto: \"#chart\",\n  data: {\n      columns: [\n          ['已完成', 11],\n          ['未完成', 9],\n      ],\n      colors: {\n        已完成: '#DD4C57',\n        未完成: '#EB9C37',\n      },\n      type : 'donut',\n      onclick: function (d, i) { console.log(\"onclick\", d, i); },\n      onmouseover: function (d, i) { console.log(\"onmouseover\", d, i); },\n      onmouseout: function (d, i) { console.log(\"onmouseout\", d, i); }\n  },\n  donut: {\n      title: \"積分數：11/20\"\n  }\n});\nsetTimeout(function () {\n  chart.load({\n      columns: [\n          [\"已完成\", 11],\n          [\"未完成\", 9],\n      ]\n  });\n}, 2500);\n\nvar chart2 = c3.generate({\n  bindto: \"#chart2\",\n  data: {\n      columns: [\n          ['已完成', 91],\n          ['剩餘關卡', 9],\n      ],\n      colors: {\n        已完成: \"#03A9F4\",\n        剩餘關卡: \"#76FF03\",\n      },\n      type : 'donut',\n      onclick: function (d, i) { console.log(\"onclick\", d, i); },\n      onmouseover: function (d, i) { console.log(\"onmouseover\", d, i); },\n      onmouseout: function (d, i) { console.log(\"onmouseout\", d, i); }\n  },\n  donut: {\n      title: \"完成比例：91%\"\n  }\n});\n\nsetTimeout(function () {\n  chart2.load({\n      columns: [\n          [\"已完成\", 91],\n          [\"剩餘關卡\", 9],\n      ]\n  });\n}, 1500);\n\nvar chart3 = c3.generate({\n  bindto: \"#chart3\",\n  data: {\n    x: 'x',\n    columns: [\n        ['x', '2022-09-01', '2022-09-02', '2022-09-03', '2022-09-04', '2022-09-05', '2022-09-06', '2022-09-07'],\n        ['已完成', 3, 5, 6, 7, 9, 11 ],\n        ['剩餘關卡', 30, 27, 24, 22, 19, 19]\n    ]\n},\naxis: {\n    x: {\n        type: 'timeseries',\n        tick: {\n            format: '%Y-%m-%d'\n        }\n    }\n}\n});\nsetTimeout(function () {\n  chart3.load({\n      columns: [\n          [\"獲得積分數\", 12,13,15,17,19,21],\n      ]\n  });\n}, 1500);","// console.log('123');\n// const editor = CodeMirror.fromTextArea(document.getElementById('editor'),{\n//     mode: \"javascript\",\n//     theme: \"dracula\"\n// });\n        lessons=[\n            {\n                title:\"lesson 1\",\n                description: 'draw a rectangle',\n                code2Learn:`\\nvar canvas = document.getElementById('pane');\n                \\nvar ctx = canvas.getContext('2d');\n                \\nctx.clearRect(0,0,canvas.width,canvas.height);\n                \\nctx.fillRect(10, 10, 50, 50);\n                `,\n                instruction:`//  top left corner (10,10) width 50 \n                `,\n                signature:{imageDiff: 0, totalPixels:2500},\n\n               \n            },\n            {\n                title:\"lesson 2\",\n                description: 'draw a circle',\n                code2Learn:`\\nvar canvas = document.getElementById('pane');\n                \\n var ctx = canvas.getContext('2d');\n                \\n ctx.clearRect(0,0,canvas.width,canvas.height);\n                \\n ctx.beginPath();\n                \\n ctx.arc(100, 75, 50, 0, 2 * Math.PI);\n                \\n ctx.strokeStyle=\"rgb(255,0,0)\";\n                \\n ctx.lineWidth=4\n                \\n ctx.stroke();\n                `,\n                instruction:`//   CENTER AT (100,75) with radius 50\n                `,\n                signature:{imageDiff: 823, totalPixels:3164},\n            \n            },\n            \n            {\n                title:\"lesson 3\",\n                description: 'fill a circle',\n                code2Learn:`\\nvar canvas = document.getElementById('pane');\n                \\n var ctx = canvas.getContext('2d');\n                \\n ctx.clearRect(0,0,canvas.width,canvas.height);\n                \\n ctx.beginPath();\n                \\n ctx.arc(250, 200, 50, 0, 2 * Math.PI)\n                \\n ctx.fillStyle='green'\n                \\n ctx.fill();\n                `,\n                instruction:`// circle  at  (250,200) with radius 50\n                              `,\n                signature:{imageDiff: 519, totalPixels:16000},\n              \n            },{\n                title:\"lesson 4\",\n                description: 'draw a line',\n                code2Learn:`\\nvar canvas = document.getElementById('pane');\n                \\n var ctx = canvas.getContext('2d');\n                \\n ctx.clearRect(0,0,canvas.width,canvas.height);\n                \\n ctx.beginPath();\n                \\n ctx.moveTo(100,100);\n                \\n ctx.lineTo(300,300);\n                \\n ctx.lineWidth=10;\n                \\n ctx.stroke();\n                `,\n                instruction:`// draw a line : move to (100,100) and line to (300,300)\n                             // using ctx as graphics context `,\n                signature:{imageDiff: 410, totalPixels:3008},\n               \n            }\n        ];\n\n        var images;  // images for comparison\n\n        var doc;  // user source code \n        let width; // width of editor\n        let height; // height of editor\n        var canvasCode; // declaring canvas\n        var current_lesson=0;\n        var code2Learn;  // the code lesson\n        var destinationCode;  // used to compare user source code\n        var sourceCode;    // user source code\n        var code=\"\"; \n        var preview;  // flag for preview\n        const verification =`\\n \n            image2 = ctx.getImageData(0,0,canvas.width,canvas.height)\n            totalPixels = 0;\n            imageDiff = 0\n            for (let i=0; i<image1.data.length;i++){\n                if(image1.data[i]!=0) totalPixels++; \n                if(image1.data[i]!=image2.data[i]) imageDiff ++;\n            }\n            localStorage.setItem(\"totalPixels\", totalPixels);                                         \n            localStorage.setItem(\"imageDiff\", imageDiff)   //localStorage.getItem(\"flag\");\n        `;\n      \n        const clearScreen = `ctx.clearRect(0,0,canvas.width,canvas.height);`\n        const showSample = `ctx.clearRect(0,0,canvas.width,canvas.height);\n          ctx.putImageData(image1,0,0);\n          `\n\n          var editor = CodeMirror.fromTextArea(document.querySelector(\"#code\"), {\n            lineNumbers: true,\n            lineWrapping: true,\n            styleActiveLine: true,\n            matchBrackets: true,\n            autoCloseBrackets: true,\n            autoCloseTags: true,\n            theme:'dracula',\n   //         mode: \"xml\",\n            mode: \"htmlmixed\",\n          });\n        //  editor.setSize(\"300\",\"200\")\n     \n        //      editor.markText({line: 1, ch: 0}, {line: 5, ch: 0}, {className: \"styled-background\"});\n        //editor.markText({line: 1, ch: 0}, {line: 5, ch: 0}, {className: \"cm-positive\"});\n        init();\n        \n        function init(){\n            images =`\n            \\n var image1 = ctx.getImageData(0, 0, canvas.width,canvas.height);\n            \\n var image2;  \n            \\n var image3 = ctx.createImageData(canvas.width,canvas.height);\n            var totalPixels = 0;\n            var imageDiff = 0\n            `;\n    \n            doc = document.getElementById('iview').contentWindow.document;\n            width= document.getElementById('iview').clientWidth;\n            height=document.getElementById('iview').clientHeight\n            canvasCode = `<canvas id=pane width=${width} height=${height} style=\"border:solid darkgrey 2px\"></canvas> \\n`\n         \n            getSignatures();\n\n\n            /* start to learn */\n            current_lesson=0;\n            code2Learn = lessons[current_lesson].code2Learn;\n            instruction =lessons[current_lesson].instruction;\n            destinationCode = canvasCode +\"<scri\" + \"pt>\" +code2Learn + images+ \"\\n</scri\" + \"pt>\";  \n            editor.setValue(instruction) \n         \n\n            // write original code  (code to learn )to produce image 1\n            doc.open();\n            doc.write(destinationCode);   // open until user done editing\n       \n    \n            preview=true;   // flag to quick response user coding\n            correct = 0;    // the number of correct coding\n           \n\n        }\n        \n\n        function getSignatures(){\n           \n            for (let i=0; i<lessons.length;i++){\n               \n                code2Learn = lessons[i].code2Learn;\n                destinationCode = canvasCode +\"<scri\" + \"pt>\" +code2Learn + images+ clearScreen + code2Learn+ verification+\"\\n</scri\" + \"pt>\";   \n                doc.open();\n                doc.write(destinationCode);  \n                doc.close()\n                lessons[i].signature.imageDiff= parseInt(localStorage.getItem(\"imageDiff\"));\n                lessons[i].signature.totalPixels= parseInt(localStorage.getItem(\"totalPixels\"))  \n     //          alert(lessons[i].signature.imageDiff +\":\" + lessons[i].signature.totalPixels)\n            }   \n         }\n      \n       \n         \n         window.addEventListener('resize',(e)=>{\n            width= document.getElementById('iview').clientWidth;\n            height=document.getElementById('iview').clientHeight\n            canvasCode = `<canvas id=pane width=${width} height=${height} style=\"border:solid grey 2px\"></canvas> \\n`;\n       //     alert( width+ \":\"+height);\n         })\n\n        \n        \n\n       \n\n          function check(){\n\n             //   document.getElementById(\"demo\").innerHTML = editor.getValue();\n             //  code = editor.getValue().replace(/^\\s*/, \"\")\n\n         \n            doc.write(\"<scri\" + \"pt>\" + clearScreen + editor.getValue() + verification +\"\\n</scri\" + \"pt>\");\n             // doc.close(); \n         \n \n            let imageDiff= parseInt(localStorage.getItem('imageDiff'));\n            let totalPixels= parseInt(localStorage.getItem('totalPixels'))\n           \n            let distanceSquare = (imageDiff -  lessons[current_lesson].signature.imageDiff)*(imageDiff -  lessons[current_lesson].signature.imageDiff)+\n                                 (totalPixels - lessons[current_lesson].signature.totalPixels)*(totalPixels - lessons[current_lesson].signature.totalPixels)\n        //    alert(distanceSquare +\":\"+imageDiff+\":\"+totalPixels)\n           alert(imageDiff+\":\"+lessons[current_lesson].signature.imageDiff)\n           alert(totalPixels+\":\"+lessons[current_lesson].signature.totalPixels)\n            if( distanceSquare < 20) {\n                alert('great success !!!');\n                correct++;\n                document.getElementById('progress').style.width=`${correct/lessons.length*100}%`;\n                document.getElementById('progress').innerHTML=` <h6>${correct}/${lessons.length}</h6>`\n            } else {\n                alert('try again !!!');\n            }\n              \n          }\n         \n\n         \n          var delay;\n          editor.on(\"change\", function () {\n            clearTimeout(delay);\n            if(preview)\n               delay = setTimeout(updatePreview, 300);\n          });\n\n\n         \n          function updatePreview() {\n            code = editor.getValue().replace(/^\\s*/, \"\")\n            sourceCode = \"<scri\" + \"pt>\" + showSample+code + \"\\n</scri\" + \"pt>\";\n            doc.write( sourceCode );\n          }\n//          delay = setTimeout(updatePreview, 1000);\n       \n         \n         \n\n           function reset(){\n                current_lesson=0;\n                code2Learn = lessons[current_lesson].code2Learn;\n            \n                destinationCode = canvasCode +\"<scri\" + \"pt>\" +code2Learn + images+ \"\\n</scri\" + \"pt>\";  \n                instruction=lessons[current_lesson].instruction;\n                editor.setValue(instruction) \n                doc.close();   // close last action\n                doc.open();\n                   doc.write(destinationCode);     \n             }\n\n           function next(){\n               current_lesson = (current_lesson + 1) % lessons.length;\n               code2Learn = lessons[ current_lesson].code2Learn; \n               destinationCode = canvasCode +\"<scri\" + \"pt>\" +code2Learn + images+ \"\\n</scri\" + \"pt>\";  \n               instruction=lessons[current_lesson].instruction;\n               editor.setValue(instruction) \n               doc.close();   // close last action\n               doc.open();\n               doc.write(destinationCode);\n           }\n\n           function prev(){\n              current_lesson = (current_lesson - 1+lessons.length) % lessons.length;\n              code2Learn = lessons[ current_lesson].code2Learn;\n              destinationCode = canvasCode +\"<scri\" + \"pt>\" +code2Learn + images+ \"\\n</scri\" + \"pt>\";  \n              instruction=lessons[current_lesson].instruction;\n              editor.setValue(instruction) \n              doc.close();   // close last action\n              doc.open();\n              doc.write(destinationCode); \n           }"]}