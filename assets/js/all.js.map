{"version":3,"sources":["all.js","chart.js","loader.js","mirror.js","swiper.js"],"names":["console","log","load","document","querySelector","loader","setTimeout","style","display","swiper","Swiper","slidesPerView","spaceBetween","loop","loopFillGroupWithBlank","navigation","nextEl","prevEl","chart","c3","generate","bindto","data","columns","colors","已完成","未完成","type","onclick","d","i","onmouseover","onmouseout","donut","title","chart2","剩餘關卡","chart3","x","axis","tick","format","location","pathname","current_lesson","lessons","description","code2Learn","instruction","signature","imageDiff","totalPixels","editor","CodeMirror","fromTextArea","getElementById","mode","theme","lineNumbers","run","code","getValue","canvasPrepare","addEventListener","htmlCode","jsCode","doc","contentWindow","open","write","previewWindow","close","resizeCanvas","width","clientWidth","height","clientHeight","setAttribute","images","canvasCode","destinationCode","sourceCode","preview","verification","clearScreen","showSample","init","getSignatures","setValue","length","parseInt","localStorage","getItem","check","distanceSquare","alert","correct","innerHTML","delay","on","clearTimeout","updatePreview","replace","reset","next","prev"],"mappings":"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","file":"all.js","sourcesContent":["console.log('all start');\n\n\n//loader\nconst load = document.querySelector('.loader');\nfunction loader (){\n  setTimeout(() => { \n    load.style.display = 'none';}\n    , 3000);\n}\nloader ();\n\n//swiper\nlet swiper = new Swiper(\".courseSwiper\", {\n  slidesPerView: 'auto',\n  spaceBetween: 20,\n  // slidesPerGroup: 3,\n  loop: true,\n  loopFillGroupWithBlank: true,\n  // pagination: {\n  //   el: \".swiper-pagination\",\n  //   clickable: true,\n  // },\n  navigation: {\n    nextEl: \".swiper-button-next\",\n    prevEl: \".swiper-button-prev\",\n  },\n});\nvar chart = c3.generate({\n  bindto: \"#chart\",\n  data: {\n      columns: [\n          ['已完成', 11],\n          ['未完成', 9],\n      ],\n      colors: {\n        已完成: '#DD4C57',\n        未完成: '#EB9C37',\n      },\n      type : 'donut',\n      onclick: function (d, i) { console.log(\"onclick\", d, i); },\n      onmouseover: function (d, i) { console.log(\"onmouseover\", d, i); },\n      onmouseout: function (d, i) { console.log(\"onmouseout\", d, i); }\n  },\n  donut: {\n      title: \"積分數：11/20\"\n  }\n});\nsetTimeout(function () {\n  chart.load({\n      columns: [\n          [\"已完成\", 11],\n          [\"未完成\", 9],\n      ]\n  });\n}, 2500);\n\nvar chart2 = c3.generate({\n  bindto: \"#chart2\",\n  data: {\n      columns: [\n          ['已完成', 91],\n          ['剩餘關卡', 9],\n      ],\n      colors: {\n        已完成: \"#03A9F4\",\n        剩餘關卡: \"#76FF03\",\n      },\n      type : 'donut',\n      onclick: function (d, i) { console.log(\"onclick\", d, i); },\n      onmouseover: function (d, i) { console.log(\"onmouseover\", d, i); },\n      onmouseout: function (d, i) { console.log(\"onmouseout\", d, i); }\n  },\n  donut: {\n      title: \"完成比例：91%\"\n  }\n});\n\nsetTimeout(function () {\n  chart2.load({\n      columns: [\n          [\"已完成\", 91],\n          [\"剩餘關卡\", 9],\n      ]\n  });\n}, 1500);\n\nvar chart3 = c3.generate({\n  bindto: \"#chart3\",\n  data: {\n    x: 'x',\n    columns: [\n        ['x', '2022-09-01', '2022-09-02', '2022-09-03', '2022-09-04', '2022-09-05', '2022-09-06', '2022-09-07'],\n        ['已完成', 3, 5, 6, 7, 9, 11 ],\n        ['剩餘關卡', 30, 27, 24, 22, 19, 19]\n    ]\n},\naxis: {\n    x: {\n        type: 'timeseries',\n        tick: {\n            format: '%Y-%m-%d'\n        }\n    }\n}\n});\nsetTimeout(function () {\n  chart3.load({\n      columns: [\n          [\"獲得積分數\", 12,13,15,17,19,21],\n      ]\n  });\n}, 1500);\n\nconsole.log('all end');","var chart = c3.generate({\n    bindto: \"#chart\",\n    data: {\n        columns: [\n            ['已完成', 11],\n            ['未完成', 9],\n        ],\n        colors: {\n          已完成: '#DD4C57',\n          未完成: '#EB9C37',\n        },\n        type : 'donut',\n        onclick: function (d, i) { console.log(\"onclick\", d, i); },\n        onmouseover: function (d, i) { console.log(\"onmouseover\", d, i); },\n        onmouseout: function (d, i) { console.log(\"onmouseout\", d, i); }\n    },\n    donut: {\n        title: \"積分數：11/20\"\n    }\n  });\n  setTimeout(function () {\n    chart.load({\n        columns: [\n            [\"已完成\", 11],\n            [\"未完成\", 9],\n        ]\n    });\n  }, 2500);\n  \n  var chart2 = c3.generate({\n    bindto: \"#chart2\",\n    data: {\n        columns: [\n            ['已完成', 91],\n            ['剩餘關卡', 9],\n        ],\n        colors: {\n          已完成: \"#03A9F4\",\n          剩餘關卡: \"#76FF03\",\n        },\n        type : 'donut',\n        onclick: function (d, i) { console.log(\"onclick\", d, i); },\n        onmouseover: function (d, i) { console.log(\"onmouseover\", d, i); },\n        onmouseout: function (d, i) { console.log(\"onmouseout\", d, i); }\n    },\n    donut: {\n        title: \"完成比例：91%\"\n    }\n  });\n  \n  setTimeout(function () {\n    chart2.load({\n        columns: [\n            [\"已完成\", 91],\n            [\"剩餘關卡\", 9],\n        ]\n    });\n  }, 1500);\n  \n  var chart3 = c3.generate({\n    bindto: \"#chart3\",\n    data: {\n      x: 'x',\n      columns: [\n          ['x', '2022-09-01', '2022-09-02', '2022-09-03', '2022-09-04', '2022-09-05', '2022-09-06', '2022-09-07'],\n          ['已完成', 3, 5, 6, 7, 9, 11 ],\n          ['剩餘關卡', 30, 27, 24, 22, 19, 19]\n      ]\n  },\n  axis: {\n      x: {\n          type: 'timeseries',\n          tick: {\n              format: '%Y-%m-%d'\n          }\n      }\n  }\n  });\n  setTimeout(function () {\n    chart3.load({\n        columns: [\n            [\"獲得積分數\", 12,13,15,17,19,21],\n        ]\n    });\n  }, 1500);","const load = document.querySelector('.loader');\nfunction loader (){\n  setTimeout(() => { \n    load.style.display = 'none';}\n    , 3000);\n}\nloader ();","console.log(\"mirror start\");\n\nif (location.pathname == \"/courseDetail.html\") {\n  current_lesson = 0;\n} else if (location.pathname == \"/courseDetail-mid.html\") {\n  current_lesson = 6;\n} else {\n  current_lesson = 9;\n}\nconst lessons = [\n  {\n    title: \"lesson 1\",\n    description: \"線段\",\n    code2Learn: `\\nvar canvas = document.getElementById('fractal');\n      \\nvar ctx = canvas.getContext('2d');\n      \\nctx.fillStyle = '#333';\n      \\nctx.fillRect(0, 0, canvas.width, canvas.height);\n      // \\nctx.clearRect(0,0,canvas.width,canvas.height);\n      //\\nctx.moveTo(10,10);\n      //\\nctx.lineTo(150,50);\n      //\\nctx.stroke();\n      `,\n    instruction: `// 畫線段，從原點到(50,50)\n      `,\n    signature: { imageDiff: 100, totalPixels: 4708 },\n  },\n  {\n    title: \"lesson 2\",\n    description: \"矩形\",\n    code2Learn: `\\nvar canvas = document.getElementById('fractal');\n      \\nvar ctx = canvas.getContext('2d');\n      \\nctx.clearRect(0,0,canvas.width,canvas.height);\n      \\nctx.fillRect(10, 10, 50, 50);\n      `,\n    instruction: `//  畫矩形，原點 (10,10) 長、寬 50 \n      `,\n    signature: { imageDiff: 0, totalPixels: 4708 },\n  },\n  {\n    title: \"lesson 3\",\n    description: \"三角形\",\n    code2Learn: `\\nvar canvas = document.getElementById('fractal');\n      \\nvar ctx = canvas.getContext('2d');\n      \\nctx.clearRect(0,0,canvas.width,canvas.height);\n      \\nctx.beginPath();\n      \\nctx.moveTo(100,50);\n      \\nctx.lineTo(60,90);\n      \\nctx.lineTo(140,90);\n      \\nctx.closePath();\n      \\nctx.stroke();\n      `,\n    instruction: `//  畫三角形，三點分別為(100,50)、(60,90)、(140,90)\n      `,\n    signature: { imageDiff: 0, totalPixels: 4708 },\n  },\n  {\n    title: \"lesson 4\",\n    description: \"圓形\",\n    code2Learn: `\\nvar canvas = document.getElementById('fractal');\n      \\n var ctx = canvas.getContext('2d');\n      \\n ctx.clearRect(0,0,canvas.width,canvas.height);\n      \\n ctx.beginPath();\n      \\n ctx.arc(100, 75, 50, 0, 2 * Math.PI);\n      \\n ctx.stroke();\n      `,\n    instruction: `//   劃一個無填滿圓，中心點(100,75)半徑50\n      `,\n    signature: { imageDiff: 823, totalPixels: 3164 },\n  },\n  {\n    title: \"lesson 5\",\n    description: \"弧形\",\n    code2Learn: `\\nvar canvas = document.getElementById('fractal');\n      \\n var ctx = canvas.getContext('2d');\n      \\n ctx.clearRect(0,0,canvas.width,canvas.height);\n      \\n ctx.beginPath();\n      \\n ctx.arc(100, 60, 50, Math.PI/2*3, Math.PI/2);\n      \\n ctx.stroke();\n      `,\n    instruction: `//   畫起始角270度、結束角90度弧型，中心點(100,60)半徑50\n      `,\n    signature: { imageDiff: 823, totalPixels: 3164 },\n  },\n  {\n    title: \"lesson 6\",\n    description: \"用函數畫圖\",\n    code2Learn: `\\nvar canvas = document.getElementById('fractal');\n      \\n var ctx = canvas.getContext('2d');\n      \\n ctx.clearRect(0,0,canvas.width,canvas.height);\n      \\n function drawCircle(x,y,r){\n      \\n ctx.beginPath();\n      \\n ctx.arc(x,y,r,0,2*Math.PI);\n      \\n ctx.stroke();\n      \\n}\n      \\n drawCircle(100,100,50);\n      `,\n    instruction: `//   新增畫圓函數並執行，中心點(100,100)半徑50\n      `,\n    signature: { imageDiff: 823, totalPixels: 3164 },\n  },\n  {\n    title: \"lesson 7\",\n    description: \"使用函數重複執行\",\n    code2Learn: `\\nvar canvas = document.getElementById('fractal');\n      \\n var ctx = canvas.getContext('2d');\n      \\n ctx.clearRect(0,0,canvas.width,canvas.height);\n      \\n function drawCircle(x,y,r){\n      \\n ctx.beginPath();\n      \\n ctx.arc(x,y,r,0,2*Math.PI);\n      \\n ctx.stroke();\n      \\n}\n      \\n drawCircle(100,100,50);\n      \\n drawCircle(50,100,50);\n      \\n drawCircle(150,100,50);\n      `,\n    instruction: `//   新增畫圓函數並執行\n//中心點分別為(100,100)、(50,100)、(150,100)半徑50\n      `,\n    signature: { imageDiff: 823, totalPixels: 3164 },\n  },\n  {\n    title: \"lesson 8\",\n    description: \"多次執行\",\n    code2Learn: `\\nvar canvas = document.getElementById('fractal');\n      \\n var ctx = canvas.getContext('2d');\n      \\n ctx.clearRect(0,0,canvas.width,canvas.height);\n      \\n function drawCircle(x,y,r){\n      \\n ctx.beginPath();\n      \\n ctx.arc(x,y,r,0,2*Math.PI);\n      \\n ctx.stroke();\n      if (r > 2) { // condition for drawing similarity\n        drawCircle(x + r, y, r / 2);\n        drawCircle(x - r, y, r / 2);\n        }\n      \\n}\n      \\n drawCircle(100,100,50);\n      `,\n    instruction: `//加入條件式讓函數執行多次，對稱圖方式如下:\n    // if (r > 2) { \n//drawCircle(x + r, y, r / 2);\n//drawCircle(x - r, y, r / 2);\n//}`,\n    signature: { imageDiff: 823, totalPixels: 3164 },\n  },\n  {\n    title: \"lesson 9\",\n    description: \"遞迴樹\",\n    code2Learn: `\\nvar canvas = document.getElementById('fractal');\n      \\n var ctx = canvas.getContext('2d');\n      \\n canvas.width = window.innerWidth; // 畫布寬 = 視窗內的寬\n      \\n canvas.height = window.innerHeight; // 畫布高 = 視窗內的高\n      \\n ctx.fillStyle = '#fff5a5';\n      \\n ctx.fillRect(0, 0, canvas.width, canvas.height);\n      \\n ctx.clearRect(0,0,canvas.width,canvas.height);\n      \\n function draw(startX, startY, len, angle) {\n      \\n  ctx.beginPath();\n      \\n  ctx.save();\n        \n        //中間樹幹\n      \\n  ctx.translate(startX, startY);\n      \\n  ctx.rotate(angle * Math.PI/180);\n      \\n  ctx.moveTo(0, 0);\n      \\n  ctx.lineTo(0, -len);\n      \\n  ctx.stroke();\n\n      \\n  if(len < 10) {\n        \\n      ctx.restore();\n        \\n   return;\n        \\n  }\n        \\n  draw(0, -len, len*0.8, -15);//左邊分之\n        \\ndraw(0, -len, len*0.8, +15);//右邊分支\n        \\nctx.restore();//恢復預設值，分支才會從中間樹幹頂點開始生長\n        \\n}\n        \\ndraw(300, 250, 50, 0)   \n      `,\n    instruction: `//繪製遞迴樹初始點(300,250)、初始樹枝長度50\n//角度0度開始生長，遞迴條件限制於長度小於10停止\n`,\n    signature: { imageDiff: 823, totalPixels: 3164 },\n  },\n];\n\n//編輯器樣式\nlet editor = CodeMirror.fromTextArea(document.getElementById(\"editor\"), {\n  mode: \"javascript\",\n  theme: \"dracula\",\n  lineNumbers: \"true\",\n  //   // lineWrapping: true,\n  //   // styleActiveLine: true,\n  //   // matchBrackets: true,\n  //   // autoCloseBrackets: true,\n  //   // autoCloseTags: true,\n  //   // theme:'dracula',\n  //   // mode: \"htmlmixed\",\n});\n\n//執行按鈕\nconst run = document.querySelector(\"#run\");\nlet code = editor.getValue();\n\nlet canvasPrepare = `var canvas = document.getElementById('fractal');\n\\n canvas.setAttribute('width',innerWidth);\n\\n canvas.setAttribute('height',innerHeight);\n\\n var ctx =  canvas.getContext('2d');`;\n\n//執行按鈕點擊觸發\nrun.addEventListener(\"onload\", () => {\n  // resizeCanvas();\n  let htmlCode = `<canvas id='fractal'></canvas>`;\n  let jsCode =\n    \"<scri\" + \"pt>\" + canvasPrepare + editor.getValue() + \"</scri\" + \"pt>\";\n  let doc = document.querySelector(\"#iview\").contentWindow.document;\n  doc.open();\n  doc.write(htmlCode + jsCode);\n  previewWindow.close();\n});\n\n//改變canvas大小,撐滿空間\nfunction resizeCanvas() {\n  var width = document.querySelector(\".view\").clientWidth;\n  var height = document.querySelector(\".view\").clientHeight;\n  document.querySelector(\"#iview\").setAttribute(\"height\", `${height}`);\n  document.querySelector(\"#iview\").setAttribute(\"width\", `${width}`);\n  // document.querySelector(\"#iview\").setAttribute(\"overflow\", \"hidden\");\n}\n\nvar images; // images for comparison\nvar doc; // user source code\nlet width; // width of editor\nlet height; // height of editor\nvar canvasCode; // declaring canvas\nvar current_lesson;\nvar instruction;\nvar code2Learn; // the code lesson\nvar destinationCode; // used to compare user source code\nvar sourceCode; // user source code\n// var code;\nvar preview; // flag for preview\nconst verification = `\\n \n    image2 = ctx.getImageData(0,0,canvas.width,canvas.height);\n    totalPixels = 0;\n    imageDiff = 0;\n    for (let i=0; i<image1.data.length;i++){\n        if(image1.data[i]!=0) totalPixels++; \n        if(image1.data[i]!=image2.data[i]) imageDiff ++;\n    }\n    console.log(\"totalPixels\", totalPixels);\n    console.log(\"imageDiff\", imageDiff);\n    localStorage.setItem(\"totalPixels\", totalPixels);                                         \n    localStorage.setItem(\"imageDiff\", imageDiff);\n`;\nconst clearScreen = `ctx.clearRect(0,0,canvas.width,canvas.height);`;\nconst showSample = `ctx.clearRect(0,0,canvas.width,canvas.height);\n  ctx.putImageData(image1,0,0);`;\n\ninit();\nfunction init() {\n  images = `\n    \\n var image1 = ctx.getImageData(0, 0, canvas.width,canvas.height);\n    \\n var image2;  \n    \\n var image3 = ctx.createImageData(canvas.width,canvas.height);\n    \\n var totalPixels = 0;\n    \\n var imageDiff = 0\n    `;\n\n  doc = document.getElementById(\"iview\").contentWindow.document;\n  width = document.getElementById(\"iview\").clientWidth;\n  height = document.getElementById(\"iview\").clientHeight;\n  canvasCode = `<canvas id=\"fractal\"></canvas> \\n`;\n\n  getSignatures();\n\n  /* start to learn */\n  current_lesson;\n  code2Learn = lessons[current_lesson].code2Learn;\n  instruction = lessons[current_lesson].instruction;\n  destinationCode =\n    canvasCode + \"<scri\" + \"pt>\" + code2Learn + images + \"\\n</scri\" + \"pt>\";\n  editor.setValue(instruction);\n\n  // write original code  (code to learn )to produce image 1\n  doc.open();\n  doc.write(destinationCode); // open until user done editing\n\n  // preview=true;   // flag to quick response user coding\n  // correct = 0;    // the number of correct coding\n}\nfunction getSignatures() {\n  for (let i = 0; i < lessons.length; i++) {\n    code2Learn = lessons[i].code2Learn;\n    destinationCode =\n      canvasCode +\n      \"<scri\" +\n      \"pt>\" +\n      code2Learn +\n      images +\n      clearScreen +\n      code2Learn +\n      verification +\n      \"\\n</scri\" +\n      \"pt>\";\n    doc.open();\n    doc.write(destinationCode);\n    doc.close();\n    lessons[i].signature.imageDiff = parseInt(\n      localStorage.getItem(\"imageDiff\")\n    );\n    lessons[i].signature.totalPixels = parseInt(\n      localStorage.getItem(\"totalPixels\")\n    );\n    console.log(destinationCode);\n  }\n}\nfunction check() {\n  doc.write(\n    \"<scri\" +\n      \"pt>\" +\n      clearScreen +\n      editor.getValue() +\n      verification +\n      \"\\n</scri\" +\n      \"pt>\"\n  );\n  let imageDiff = parseInt(localStorage.getItem(\"imageDiff\"));\n  let totalPixels = parseInt(localStorage.getItem(\"totalPixels\"));\n  let distanceSquare =\n    (imageDiff - lessons[current_lesson].signature.imageDiff) *\n      (imageDiff - lessons[current_lesson].signature.imageDiff) +\n    (totalPixels - lessons[current_lesson].signature.totalPixels) *\n      (totalPixels - lessons[current_lesson].signature.totalPixels);\n  //alert(`imageDiff:${lessons[current_lesson].signature.imageDiff}`);\n  //alert(`totalPixels:${lessons[current_lesson].signature.totalPixels}`);\n  if (distanceSquare < 20) {\n    alert(\"great success !!!\");\n    correct++;\n    document.getElementById(\"progress\").style.width = `${\n      (correct / lessons.length) * 100\n    }%`;\n    document.getElementById(\n      \"progress\"\n    ).innerHTML = ` <h6>${correct}/${lessons.length}</h6>`;\n  } else {\n    alert(\"try again !!!\");\n  }\n}\n\nvar delay;\neditor.on(\"change\", function () {\n  clearTimeout(delay);\n  if (preview) delay = setTimeout(updatePreview, 300);\n});\n\nfunction updatePreview() {\n  code = editor.getValue().replace(/^\\s*/, \"\");\n  sourceCode = \"<scri\" + \"pt>\" + showSample + code + \"\\n</scri\" + \"pt>\";\n  doc.write(sourceCode);\n}\n//          delay = setTimeout(updatePreview, 1000);\n\nfunction reset() {\n  if (location.pathname == \"/courseDetail.html\") {\n    current_lesson = 0;\n  } else if (location.pathname == \"/courseDetail-mid.html\") {\n    current_lesson = 6;\n  } else {\n    current_lesson = 9;\n  }\n  code2Learn = lessons[current_lesson].code2Learn;\n\n  destinationCode =\n    canvasCode + \"<scri\" + \"pt>\" + code2Learn + images + \"\\n</scri\" + \"pt>\";\n  instruction = lessons[current_lesson].instruction;\n  editor.setValue(instruction);\n  doc.close(); // close last action\n  doc.open();\n  doc.write(destinationCode);\n}\n\nfunction next() {\n  getSignatures();\n  current_lesson = (current_lesson + 1) % lessons.length;\n  code2Learn = lessons[current_lesson].code2Learn;\n  destinationCode =\n    canvasCode + \"<scri\" + \"pt>\" + code2Learn + images + \"\\n</scri\" + \"pt>\";\n  instruction = lessons[current_lesson].instruction;\n  editor.setValue(instruction);\n  doc.close(); // close last action\n  doc.open();\n  doc.write(destinationCode);\n}\n\nfunction prev() {\n  current_lesson = (current_lesson - 1 + lessons.length) % lessons.length;\n  code2Learn = lessons[current_lesson].code2Learn;\n  destinationCode =\n    canvasCode + \"<scri\" + \"pt>\" + code2Learn + images + \"\\n</scri\" + \"pt>\";\n  instruction = lessons[current_lesson].instruction;\n  editor.setValue(instruction);\n  doc.close(); // close last action\n  doc.open();\n  doc.write(destinationCode);\n}\n\nconsole.log(\"mirror end\");\n","console.log('swiper start');\nlet swiper = new Swiper(\".courseSwiper\", {\n    slidesPerView: 'auto',\n    spaceBetween: 20,\n    // slidesPerGroup: 3,\n    loop: true,\n    loopFillGroupWithBlank: true,\n    // pagination: {\n    //   el: \".swiper-pagination\",\n    //   clickable: true,\n    // },\n    navigation: {\n      nextEl: \".swiper-button-next\",\n      prevEl: \".swiper-button-prev\",\n    },\n  });\n  console.log('swiper end');"]}